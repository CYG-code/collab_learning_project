1. 基础聊天体验升级 (现代 UI/UX)
要想让人用得爽，界面必须达到主流 SaaS 软件的标准：

Markdown 与代码高亮渲染： 学生和 AI 在讨论复杂任务（如写代码、推导公式）时，必须支持 Markdown 格式。需要能漂亮地渲染 Python 代码块，甚至是基于 KaTeX 的复杂数学公式。

输入状态提示 (Typing Indicators)： 当 Planner（规划师）在后台疯狂调用大模型思考时，前端应该显示“Planner 正在思考...”；当其他同学在打字时，也应该有提示，避免大家互相抢话。

富文本与文件支持： 协作学习往往伴随着文献和资料。支持拖拽上传 PDF 或图片，让 AI（比如通过 Gemini 的多模态能力）和同学一起阅读和分析。

2. 深度协作与任务管理 (解决“复杂任务”的痛点)
协作解决难题，光靠一个一直往下滚的聊天流是不够的：

分屏架构 (Chat + Workspace)： 屏幕左边是聊天框，右边是一个共享的“白板”或“动态任务看板”。当 Planner 在聊天里给出任务拆解后，右边的看板会自动更新当前的里程碑和待办事项。

消息回复与线程 (Threads)： 当群聊信息过多时，允许针对某一条具体的 AI 建议或同学发言进行“引用回复”，开启一个侧边栏的子话题，防止主干信息被水淹没。

能力与进度雷达 (Competency Tracking)： 结合能力导向（Competency-based）教育的理念，可以在界面侧边栏加入一个动态雷达图。系统通过分析学生的发言质量、协作频率，实时可视化他们在“问题解决能力”、“沟通能力”等维度的成长。

3. 多智能体的高级交互 (人机共生)
我们需要让人类觉得这些 AI 是真正的“助教”和“学伴”：

显式召唤 (@ Mention 机制)： 虽然 Facilitator 可以潜水观察，但学生也应该能在输入框里直接打出 @Planner 帮我看看这段代码，强制唤醒特定的 AI 角色来介入。

“思考过程”折叠面板： 优秀的 AI 往往有长篇的逻辑推理（比如 Gemini 的 Thinking 过程）。可以在 UI 上把 AI 的内部思考过程折叠起来，只展示最终建议。学生如果好奇，可以点开“查看 AI 的推理路径”，这本身就是一种极好的学习示范。

AI 发言打断机制： 如果 AI 开始长篇大论，而学生已经懂了，界面上应该有一个“停止生成”或“打断”按钮，立刻让 AI 闭嘴，把控制权交还给人类。

4. 后端与数据持久化 (工业级基建)
学习过程的数据极其珍贵，不能一刷新就没了：

聊天记录持久化： 需要把所有的聊天流和任务状态存入关系型数据库（比如你可以直接利用现有的 school_db 数据库环境）。这样学生明天登录，还能无缝衔接昨天没解完的难题。

会话房间隔离： 目前所有人一进网页都在同一个大厅里。接下来需要加入“创建房间”功能，输入房间号或者链接，不同的小组进入不同的隔离协作空间，后台的 AutoGen 也会为每个房间实例化独立的大脑。